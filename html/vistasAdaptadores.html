<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="../css/estilos.css">
  <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
  <title>Desarrollo de Sistemas II - Vistas con Adaptadores</title>
</head>
<body>
  <header>
    <div class="hero">
      <div class="container">
        <div class="display-3">
          VISTAS CON ADAPTADORES
        </div>
      </div>
    </div>
    <nav class="navbar navbar-expand-lg">
      <div class="container">
        <a class="navbar-brand" href="#">Menú</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="..\index.html">Inicio <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Parcial I
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="entorno.html">Entorno</a>
                <a class="dropdown-item" href="interfazUsuario.html">Interfaz de usuario</a>
                <a class="dropdown-item" href="actividades.html">Actividades</a>
                <a class="dropdown-item" href="androidmanifest.html">Android Manifest</a>
                <a class="dropdown-item" href="intents.html">Intents</a>
                <a class="dropdown-item" href="ControlesLayout.html">Controles y layout</a>
                <a class="dropdown-item" href="vistasAdaptadores.html">Vistas con Adaptadores</a>
                <a class="dropdown-item" href="Adaptadores.html">Adaptadores</a>
                <a class="dropdown-item" href="menus.html">Menús</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Parcial II
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="ciclo_de_vida.html">Ciclo de vida y estado</a>
                <a class="dropdown-item" href="fragmentos.html">Fragmentos</a>
                <a class="dropdown-item" href="webapps.html">Web Apps</a>
                <a class="dropdown-item" href="seguridad_permisos.html">Seguridad y permisos</a>
                <a class="dropdown-item" href="preferencias_archivos_bdd.html">Preferencias, archivos y BDD</a>
                <a class="dropdown-item" href="hilos_asynctask.html">Hilos y Async Task</a>
                <a class="dropdown-item" href="comunicacion_red.html">Comunicación por red</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Parcial III
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#">Tema 1</a>
                <a class="dropdown-item" href="#">Tema 2</a>
                <a class="dropdown-item" href="#">Tema 3</a>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>

  </header>
  <section class="container">
    <div class="display-4">VISTAS CON ADAPTADORES</div>
    <hr>
    <ul>
      <li><a href="#bh">¿Qué es un adaptador?</a></li>
      <li><a href="#bn">¿Cómo funciona?</a></li>
      <li><a href="#ve">Array Adapter</a></li>
      <li><a href="#bvh">List View</a></li>
      <li><a href="#vh">Grid View</a></li>
      <li><a href="#be">Interacción ListView-Adapter</a></li>
      <li><a href="#beh">Objeto View Holder</a></li>
    </ul>
    <br> <br>

    <div class="display-1" id="bh">¿Qué es un adaptador?</div>
    <hr>
    <p>Es un objeto de una clase que implementa la interfaz "Adapter". </p>
    <p>Este actúa como un enlace entre un conjunto de datos y un adaptador vista,
      un objeto de una clase que extiende a la clase abstracta "AdapterView".
      El conjunto de datos puede ser cualquier cosa que presente datos en una
      manera estructurada. Arreglos, objetos List y objetos Cursor son usados,
      por lo general, con conjuntos de datos.</p><br>
    <p>Un adaptador es el encargado de recuperar datos desde un conjunto de datos
      y para generar objetos "View" gracias a esos datos.</p>
    <br> <br>

    <div class="display-1" id="bn">¿Cómo funciona?</div>
    <hr>
    <p>Los adaptadores de vista pueden mostrar grandes conjuntos de datos muy eficientemente.
      Por ejemplo, los complementos ListView y GridView pueden mostrar millones de elementos
      sin ningún retraso notable mientras mantiene la memoria y el uso del CPU muy bajo.
      ¿Cómo hacen eso? Pueden realizarlo de diferentes maneras, pero habitualmente esto es lo que hacen:</p><br>
    <p> 1. Producen solamente los objetos "View" que están listos en pantalla o
      o que estan a punto de moverse a ella. Así la memoria consumida puede ser constante
      independientemente del tamaño del conjunto de datos.</p>
    <p> 2. Permiten minimizar las costosas operaciones de formatos y reciclar objetos "View" que ya existen
      y moverlos fuera de pantalla. Se reduce el consumo del CPU.</p>
    <br><br>

    <div class="display-1" id="ve">Array Adapter</div>
    <hr>
    <p>Como habíamos dicho, Android nos provee subclases de adaptadores que nos facilitan la implementación.
      ArrayAdapter es uno de los tipos de adaptadores más sencillos y populares.</p>
    <p>Debido a que es una clase genérica, puedes usar cualquier objeto para poblar la lista.</p>
    <p>Este adaptador infla los ítems con un layout preestablecido de Android,
      invoca el método toString() de cada elemento y lo setea automáticamente
      en uno o dos TextViews según el diseño.</p>
    <p>Cabe recalcar que este tipo de adaptador tambien se lo puede mezclar con otros tipos de adaptadores
      como es el ListView.</p><br>
    <p>Para crear un "Array Adapter"</p><br>
    <p>PASO 1. La clase ArrayAdapter puede usar los dos; los arreglos y
      los objetos List como conjuntos de datos. Usaremos un arreglo como
      el conjunto de datos.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va1.PNG" class="img-fluid"><br><br>
    </center>

    <p>PASO 2. Crear un nuevo archivo de formato XML cuyo elemento root es un
      LinearLayout. Arrastre y suelte un complemento Large text dentro de él y
      ajuste el valor de su atributo id a cheese_name.
      El archivo de formato XML debería de lucir como este: </p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va2.PNG" class="img-fluid"><br><br>
    </center>

    <p>PASO 3. En su activity, crear una nueva instancia de la clase
      ArrayAdapter usando su constructor. Como sus argumentos, pase
      el nombre del archivo fuente, el identificador de TextView y la
      referencia al arreglo. Ahora el adaptador está listo.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va3.PNG" class="img-fluid"><br><br>
    </center>
    <br> <br>

    <div class="display-1" id="bvh">List View</div>
    <hr>
    <p>Para mostrar una lista de elementos a través de una función desplegable
      verticalmente, usted puede usar el complemento ListView. Para añadir el
      complemento a su activity, usted puede arrastrar y soltarlo dentro del
      archivo de formato XML activity o crearlo usando su constructor en su
      código Java.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va4.PNG" class="img-fluid"><br><br>
    </center>
    <p>Por lo general, ningún otro complemento de interfaz de usuario está
      colocado dentro de una composición que contiene un ListView. Por lo
      tanto, pase el ListView al método setContentView() de su activity para
      que éste ocupe la pantalla completa.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va5.PNG" class="img-fluid"><br><br>
    </center>
    <p>Para unir el ListView al adaptador que creamos en el paso anterior,
      llame al método setAdapter() como se muestra debajo.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va6.PNG" class="img-fluid"><br><br>
    </center>
    <p>Si usted ejecuta su aplicación ahora, entonces podrá ver los contenidos
      del arreglo en la forma de una lista.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va7.PNG" class="img-fluid">
    </center>
    <br><br>

    <div class="display-1" id="vh">Grid View</div>
    <hr>
    <p>Tanto ListView y GridView son subclases de la clase abstracta AbsListView
      y comparten muchas similitudes. Por lo tanto, si usted sabe como usar uno,
      entonces también sabe como usar el otro.</p>
    <p>Use el constructor de la clase GridView para crear una nueva instancia
      y pásele el método setContentView() de su activity.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va8.PNG" class="img-fluid"><br><br>
    </center>
    <p>Para ajustar el número de columnas en la cuadrícula, entonces llame su
      método setNumColumns(). Voy hacer éste una cuadrícula de dos columnas.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va9.PNG" class="img-fluid"><br><br>
    </center>
    <p>Generalmente, usted desearía ajustar el ancho de las columnas y el
      espacio entre ellas usando los métodos setColumnWidth(),
      setVerticalSpacing() y setHorizontalSpacing(). Observe que estos métodos
      usan pixeles como su unidad de medida.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va10.PNG" class="img-fluid"><br><br>
    </center>
    <p>Ahora puede unir la GridView al adaptador que creamos anteriormente
      usando el método setAdapter().</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va11.PNG" class="img-fluid"><br><br>
    </center>
    <p>Ejecute su aplicación otra vez para ver como luce su GridView.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va12.PNG" class="img-fluid"><br><br>
    </center>
    <br> <br>

    <div class="display-1" id="be">Interacción ListView-Adapter</div>
    <hr>
    <p>Cuando relacionas un adaptador a una lista, inmediatamente comienza un
      proceso de comunicación interno para poblarla con una fuente de datos.
      Dicha comunicación se basa principalmente en los siguientes métodos
      del adaptador:</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va13.PNG" class="img-fluid"><br><br>
    </center>
    <p>Aunque estos tres métodos no son los únicos que existen para establecer
      la relación, a mi parecer son los más significativos para entender el
      concepto de un adaptador.</p>
    <p>Si aún no te ha quedado claro, entonces puedes ver esta
      ilustración sobre cómo sería esta relación:</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va14.PNG" class="img-fluid"><br><br>
    </center>
    <h5>Actualizar un ListView</h5>
    <p>Si en algún momento los datos de la lista cambian, el encargado de
      actualizar los elementos será el adaptador. El método que informa dichas
      modificaciones es notifyDataSetChanged(). Cuando se llama, los views son
      refrescados y así el usuario percibe el cambio en tiempo real.</p>
    <p>Este método es ejecutado automáticamente por el adaptador cuando se
      llaman métodos que modifiquen la fuente de datos.</p>
    <p>Algunos son:</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va15.PNG" class="img-fluid"><br><br>
    </center>
    <br> <br>

    <div class="display-1" id="beh">Objeto View Holder</div>
    <hr>
    <p>El método getView() es llamado repetidamente por el adaptador vista para
      rellenarlo. Por lo tanto, usted debe tratar de minimizar el número de
      operaciones que usted realiza en él.</p>
    <p>El método findViewById(), el cual consume muchos ciclos del CPU,
      es llamado cada vez que el método getView() es llamado.</p>
    <p>Para evitar esto y para mejorar el desempeño del adaptador de vista,
      necesitamos almacenar los resultados del método findViewById()
      dentro del objeto convertView. Para hacer eso, podemos usar un objeto
      view holder, el cual no es nada más que un objeto de una clase que
      puede almacenar los complementos presentes en el diseño.</p>
    <p>Debido a que el diseño tiene dos complementos TextView, la clase view
      holder también debe tener dos complementos TextView.
      He nombrado la clase ViewHolder.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va16.PNG" class="img-fluid"><br><br>
    </center>
    <p>Al utilizar el objeto View Holder terminamos con una interfaz como la siguiente.</p>
    <center>
      <img src="../img/Primer_parcial/img_vistaAdaptadores/va17.PNG" class="img-fluid"><br>
    </center>
    <br><br>

  </section>
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
